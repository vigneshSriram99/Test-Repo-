<?xml version="1.0" encoding="utf-8"?>
<AxDataEntityView xmlns:i="http://www.w3.org/2001/XMLSchema-instance">
	<Name>SalesQuotationLineV2Entity</Name>
	<SourceCode>
		<Declaration><![CDATA[
public class SalesQuotationLineV2Entity extends common
{
}
]]></Declaration>
		<Methods>
			<Method>
				<Name>validateWrite</Name>
				<Source><![CDATA[
    public boolean validateWrite()
    {
        boolean ret = true;

        if (this.RecId)
        {
            if (!SalesQuotationTable::find(this.SalesQuotationNumber).checkUpdate())
            {
                ret = false;
            }
        }

        ret = ret && this.validateQuotationId();

        ret = ret && super();

        if (ret && this.mustValidateSalesProductCategory())
        {
            EcoResProductCategory productCategory = EcoResProductCategory::findByItemIdCategoryHierarchyRole(this.ItemNumber, EcoResCategoryNamedHierarchyRole::Sales);
            EcoResCategory selectedCategory = this.resolveProductCategory();

            if (selectedCategory.RecId != productCategory.Category)
            {
                ret = checkFailed(strFmt("@SCM:SalesLineItemAndCategorySpecifiedError", this.ItemNumber, this.SalesProductCategoryName));
            }
        }

        if (ret)
        {
            InventDim userSpecifiedDimensions = InventDim::find(this.InventInventoryDimensionEntityFieldsMapping::resolveInventDimId());
            Set allowEmptyFiels = new Set(Types::Integer);
            allowEmptyFiels.add(-1); // checkDimFieldsValid should allow empty values for all fields since we haven't done defaulting yet.
            ret = userSpecifiedDimensions.checkDimFieldsValid(this.ItemNumber, userSpecifiedDimensions, true, allowEmptyFiels);
        }

        return ret;
    }

]]></Source>
			</Method>
			<Method>
				<Name>mustValidateSalesProductCategory</Name>
				<Source><![CDATA[
    private boolean mustValidateSalesProductCategory()
    {
        return this.ItemNumber && this.SalesProductCategoryName 
            && (this.IsCDSIntegration == NoYes::No || !SalesOrderQuoteLineCDSCheckProductCategoryOnlyIfModifiedFlight::instance().isEnabled() || this.isFieldModified(fieldNum(SalesQuotationLineV2Entity, SalesProductCategoryName)));
    }

]]></Source>
			</Method>
			<Method>
				<Name>validateQuotationId</Name>
				<Source><![CDATA[
    private boolean validateQuotationId()
    {
        boolean ret = true;

        SalesQuotationLine line;

        line.QuotationId = this.SalesQuotationNumber;

        if (!line.QuotationId
            || !line.validateField(fieldNum(SalesQuotationLine, QuotationId)))
        {
            ret = checkFailed(strfmt("@ApplicationFoundation:DataEntitiesDataSourceValidateFieldFailed", strFmt('%1.%2', tableStr(SalesQuotationLineV2Entity),fieldStr(SalesQuotationLineV2Entity, SalesQuotationNumber))));
        }

        return ret;
    }

]]></Source>
			</Method>
			<Method>
				<Name>initializeEntityDataSource</Name>
				<Source><![CDATA[
    public void initializeEntityDataSource(DataEntityRuntimeContext _entityCtx, DataEntityDataSourceRuntimeContext _dataSourceCtx)
    {
        super(_entityCtx, _dataSourceCtx);

        switch (_dataSourceCtx.name())
        {
            case dataEntityDataSourceStr(SalesQuotationLineV2Entity, SalesQuotationLine):
                // clear out 'isFieldSet' so the defaulting logic does not consider fields that were set by initValue as specified by the user
                _dataSourceCtx.setAllFieldStatesToNotSet();
                break;
        }
    }

]]></Source>
			</Method>
			<Method>
				<Name>findEntityDataSource</Name>
				<Source><![CDATA[
    public Common findEntityDataSource(DataEntityRuntimeContext _entityCtx, DataEntityDataSourceRuntimeContext _dataSourceCtx)
    {
        Common ret;

        switch (_dataSourceCtx.name())
        {
            case dataEntityDataSourceStr(SalesQuotationLineV2Entity, EcoResCategory):
                ret = this.resolveProductCategory();
                break;

            case dataEntityDataSourceStr(SalesQuotationLineV2Entity, InventDim):
                DataEntityDataSourceRuntimeContext lineCtx = _entityCtx.getRuntimeContextByName(dataEntityDataSourceStr(SalesQuotationLineV2Entity, SalesQuotationLine));
                SalesQuotationLine line = lineCtx.getBuffer();

                ret = InventDim::find(line.InventDimId);
                break;

            case dataEntityDataSourceStr(SalesQuotationLineV2Entity, EcoResCategory_IntrastatCommodity):
                if (this.IntrastatCommodityCode)
                {
                    ret = EcoResCategory::findByCode(this.IntrastatCommodityCode, IntrastatParameters::find().CommodityHierarchy);
                }
                break;

            case dataEntityDataSourceStr(SalesQuotationLineV2Entity, DeliveryLogisticsPostalAddressBaseEntity):
                ret = TradeEntitySpecificDeliveryAddress::findLogisticsPostalAddressBaseEntityDataSource();
                break;

            default:
                ret = super(_entityCtx, _dataSourceCtx);
                break;
        }

        return ret;
    }

]]></Source>
			</Method>
			<Method>
				<Name>mapEntityToDataSource</Name>
				<Source><![CDATA[
    public void mapEntityToDataSource(DataEntityRuntimeContext _entityCtx, DataEntityDataSourceRuntimeContext _dataSourceCtx)
    {
        switch (_dataSourceCtx.name())
        {
            case dataEntityDataSourceStr(SalesQuotationLineV2Entity, DeliveryLogisticsPostalAddressBaseEntity):
                if (_dataSourceCtx.isAnyEntityFieldSet(this))
                {
                    this.TradeEntitySpecificDeliveryAddress::mapLogisticsPostalAddressBaseEntityDataSourceToEntity(_dataSourceCtx);
                }
                break;
            case dataEntityDataSourceStr(SalesQuotationLineV2Entity, SalesQuotationLine):
                if (_entityCtx.getDatabaseOperation() == DataEntityDatabaseOperation::Insert
                    || _entityCtx.getDatabaseOperation() == DataEntityDatabaseOperation::Update)
                {
                    SalesQuotationLine line = _dataSourceCtx.getBuffer() as SalesQuotationLine;

                    if (SalesParameters::find().SalesEntityCalculateLineAmount
                        || !this.isFieldSet(fieldNum(SalesQuotationLineV2Entity, LineAmount)))
                    {
                        // Will clear the change policy without a dialog.
                        if (line.Type().canLineAmountBeUpdatedWithNonInteractiveSession())
                        {
                            this.fieldState(fieldNum(SalesQuotationLineV2Entity, LineAmount), FieldState::NotSet);
                        }
                    }
                    else 
                    {
                        this.resetLineAmountDependentFieldStages();
                    }
                }

                if (_entityCtx.isDatabaseOperationInsertOrUpdate())
                {
                    SalesQuotationLine salesQuotationLine = _dataSourceCtx.getBuffer();

                    this.setIntegration(salesQuotationLine);
                }

                break;
        }

        super(_entityCtx, _dataSourceCtx);

        switch (_dataSourceCtx.name())
        {
            case dataEntityDataSourceStr(SalesQuotationLineV2Entity, SalesQuotationLine):
                SalesQuotationLine line = _dataSourceCtx.getBuffer();
                switch (_entityCtx.getDatabaseOperation())
                {
                    case DataEntityDatabaseOperation::Insert:
                        if (this.InventoryLotId && this.isFieldSet(fieldNum(SalesQuotationLineV2Entity, InventoryLotId)))
                        {
                            // Without skipping this validation, validateField will fail on the mapped field.
                            this.skipDataSourceValidateField(fieldNum(SalesQuotationLineV2Entity, InventoryLotId), true);
                        }

                        line.CustAccount = SalesQuotationTable::find(this.SalesQuotationNumber).CustAccount;

                    // Continue to fall through to next case:
                    case DataEntityDatabaseOperation::Update:
                        if (SalesQuotationLineEntitySetStockedProductFlight::instance().isEnabled())
                        {
                            // Set the StockedProduct field, it is required for validating field DeliveryDateControlType
                            line.setStockedProduct();
                        }

                        // Set the correct inventDimId on the table buffer.
                        line.InventDimId = this.InventInventoryDimensionEntityFieldsMapping::resolveInventDimId();
                        line.parmQuantityErrorCorrectionMethods(InventMovementQuantityErrorCorrectionMethods::acceptUserInputWithWarning());
                        break;
                }
        }
    }

]]></Source>
			</Method>
			<Method>
				<Name>setIntegration</Name>
				<Source><![CDATA[
    private void setIntegration(SalesQuotationLine _salesQuotationLine)
    {
        if (this.IsCDSIntegration)
        {
            _salesQuotationLine.IsIntegration = TradeIntegrationType::CDS;
        }
        else
        {
            _salesQuotationLine.IsIntegration = TradeIntegrationType::DataEntity;
        }
    }

]]></Source>
			</Method>
			<Method>
				<Name>mapDataSourceToEntity</Name>
				<Source><![CDATA[
    public void mapDataSourceToEntity(DataEntityRuntimeContext _entityCtx, DataEntityDataSourceRuntimeContext _dataSourceCtx)
    {
        if (this.IsCDSIntegration && _dataSourceCtx.name() == dataEntityDataSourceStr(SalesQuotationLineV2Entity, SalesQuotationLine))
        {
            if (DualWriteTrackSalesPriceOrLineAmountOutOfSyncFlight::instance().isEnabled())
            {
                _dataSourceCtx.getBuffer().fieldState(fieldNum(SalesQuotationLine, SalesPrice), FieldState::Set);
                _dataSourceCtx.getBuffer().fieldState(fieldNum(SalesQuotationLine, LineAmount), FieldState::Set);
            }

            if (DualWriteLineDiscountPercentageOrLineDiscountAmountOutOfSyncFlight::instance().isEnabled())
            {
                _dataSourceCtx.getBuffer().fieldState(fieldNum(SalesQuotationLine, LineDisc), FieldState::Set);
                _dataSourceCtx.getBuffer().fieldState(fieldNum(SalesQuotationLine, LinePercent), FieldState::Set);
            }
        }

        super(_entityCtx, _dataSourceCtx);

        switch (_dataSourceCtx.name())
        {
            case dataEntityDataSourceStr(SalesQuotationLineV2Entity, SalesQuotationLine):
                SalesQuotationLine salesQuotationLine = _dataSourceCtx.getBuffer();

                this.TradeEntitySpecificDeliveryAddress::mapSavedPostalAddressToEntity(
                    _entityCtx,
                    salesQuotationLine.DeliveryPostalAddress,
                    dataEntityDataSourceStr(SalesQuotationLineV2Entity, DeliveryLogisticsPostalAddressBaseEntity));

                this.InventInventoryDimensionEntityFieldsMapping::initFromInventDim(salesQuotationLine.inventDim());
                this.mapSalesCategoryFromSalesQuotationLineToEntity(_entityCtx, salesQuotationLine);
                this.mapDefaultLedgerDimensionFromSalesQuotationLineToEntity(_entityCtx, salesQuotationLine);
                if (_entityCtx.getDatabaseOperation() == DataEntityDatabaseOperation::Insert)
                {
                    salesQuotationLine.SkipAssignInventTransId = NoYes::Yes;
                }

                break;
        }
    }

]]></Source>
			</Method>
			<Method>
				<Name>insertEntityDataSource</Name>
				<Source><![CDATA[
    public boolean insertEntityDataSource(DataEntityRuntimeContext _entityCtx, DataEntityDataSourceRuntimeContext _dataSourceCtx)
    {
        using (var context = SalesInstrumentationLogger::createLogger(tableStr(SalesQuotationLineV2Entity)).salesQuotationActivities().insertEntityDataSource(_dataSourceCtx))
        {
            switch (_dataSourceCtx.name())
            {
                case dataEntityDataSourceStr(SalesQuotationLineV2Entity, SalesQuotationLine):
                    SalesQuotationLine salesQuotationLine = _dataSourceCtx.getBuffer();
                    salesQuotationLine.LineNum = salesQuotationLine.LineNum ? salesQuotationLine.LineNum : SalesQuotationLine::lastLineNum(this.SalesQuotationNumber) + 1;
                    break;
            }

            boolean ret = super(_entityCtx, _dataSourceCtx);

            switch (_dataSourceCtx.name())
            {
                case dataEntityDataSourceStr(SalesQuotationLineV2Entity, DeliveryLogisticsPostalAddressBaseEntity):
                    this.TradeEntitySpecificDeliveryAddress::postInsertLogisticsPostalAddressBaseEntityDataSource(_dataSourceCtx);
                    break;

                case dataEntityDataSourceStr(SalesQuotationLineV2Entity, SalesQuotationLine):
                    SalesQuotationLine salesQuotationLine = _dataSourceCtx.getBuffer();
                    this.updateAppliedDiscountDetails(salesQuotationLine);
                    break;
            }

            return ret;
        }
    }

]]></Source>
			</Method>
			<Method>
				<Name>jumpRefMethod</Name>
				<Source><![CDATA[
    public static void jumpRefMethod(str _menuItemName, Common _stagingBuffer, Object _callerObj, DataAreaId _dataAreaId)
    {
        changeCompany(_dataAreaId)
        {
            SalesQuotationLineV2Staging stagingBuffer = _stagingBuffer;

            Args args = new Args();
            args.lookupValue(stagingBuffer.SalesQuotationNumber);

            MenuFunction::runCalled(_menuItemName, MenuItemType::Display, false, args);
        }
    }

]]></Source>
			</Method>
			<Method>
				<Name>resolveProductCategory</Name>
				<Source><![CDATA[
    private EcoResCategory resolveProductCategory()
    {
        EcoResCategory category;
        EcoResCategoryHierarchyRole hierarchyRole;

        select firstonly hierarchyRole where hierarchyRole.NamedCategoryHierarchyRole == EcoResCategoryNamedHierarchyRole::Sales;
        if (hierarchyRole)
        {
            category = EcoResCategory::findByName(this.SalesProductCategoryName, hierarchyRole.CategoryHierarchy);
        }

        return category;
    }

]]></Source>
			</Method>
			<Method>
				<Name>mapSalesCategoryFromSalesQuotationLineToEntity</Name>
				<Source><![CDATA[
    private void mapSalesCategoryFromSalesQuotationLineToEntity(DataEntityRuntimeContext _entityCtx, SalesQuotationLine _salesQuotationLine)
    {
        DataEntityDataSourceRuntimeContext categoryContext = _entityCtx.getRuntimeContextByName(dataEntityDataSourceStr(SalesQuotationLineV2Entity, EcoResCategory));
        EcoResCategory category = categoryContext.getBuffer();

        if (category.RecId != _salesQuotationLine.SalesCategory)
        {
            this.SalesProductCategoryName = EcoResCategory::find(_salesQuotationLine.SalesCategory).Name;
        }
    }

]]></Source>
			</Method>
			<Method>
				<Name>mapDefaultLedgerDimensionFromSalesQuotationLineToEntity</Name>
				<Source><![CDATA[
    private void mapDefaultLedgerDimensionFromSalesQuotationLineToEntity(DataEntityRuntimeContext _entityCtx, SalesQuotationLine _salesQuotationLine)
    {
        DataEntityDataSourceRuntimeContext dimensionContext = _entityCtx.getRuntimeContextByName(dataEntityDataSourceStr(SalesOrderLineV2Entity, DefaultDimensionDAVS));
        DimensionSetEntity dimensionSetEntity = dimensionContext ? dimensionContext.getBuffer() : null;

        if (dimensionSetEntity.RecId != _salesQuotationLine.DefaultDimension)
        {
            this.DefaultLedgerDimension = _salesQuotationLine.DefaultDimension;
            this.DefaultLedgerDimensionDisplayValue = DimensionSetEntity::find(_salesQuotationLine.DefaultDimension).DisplayValue;
        }
    }

]]></Source>
			</Method>
			<Method>
				<Name>deliveryAddressPartyRecId</Name>
				<Source><![CDATA[
    // This method implements the interface defined by <c>TradeEntitySpecificDeliveryAddress</c>
    public RecId deliveryAddressPartyRecId()
    {
        SalesQuotationTable salesQuotationTable = SalesQuotationTable::find(this.SalesQuotationNumber);

        if (salesQuotationTable.CustAccount)
        {
            return CustTable::find(salesQuotationTable.CustAccount).Party;
        }
        else
        {
            return smmBusRelTable::find(salesQuotationTable.BusRelAccount).Party;
        }
    }

]]></Source>
			</Method>
			<Method>
				<Name>updateAppliedDiscountDetails</Name>
				<Source><![CDATA[
    /// <summary>
    /// Updates details of applied discounts which show in line price details.
    /// </summary>
    /// <param name = "_salesLine">Sales line record.</param>
    private void updateAppliedDiscountDetails(SalesQuotationLine _quotationLine)
    {
        // Don't do this during data management which will degrade performance.
        if (!this.isEntityInDataManagementContext() &&
            RetailPricingCustomizableFeatureToggle::isUpdateDiscountInPriceDetailsForOdata())
        {
            if (RetailSalesQuotationLine::findBySalesQuotationLine(_quotationLine.RecId))
            {
                _quotationLine.updateAppliedDiscountDetails();
            }
        }
    }

]]></Source>
			</Method>
			<Method>
				<Name>isDeliveryAddressOrderSpecificComputedColumnDefinition</Name>
				<Source><![CDATA[
    private static str isDeliveryAddressOrderSpecificComputedColumnDefinition()
    {
        // The <c>IsDeliveryAddressOrderSpecific</c> field is only designed for import scenarios
        // so we will always return 'No' for export scnearios to save performance.
        return SysComputedColumn::returnLiteral(NoYes::No);
    }

]]></Source>
			</Method>
			<Method>
				<Name>initValue</Name>
				<Source><![CDATA[
    public void initValue()
    {
        if (!this.skipNumberSequenceCheck())
        {
            NumberSeqRecordFieldHandler::enableNumberSequenceControlForField(
                this, fieldNum(SalesQuotationLineV2Entity, InventoryLotId), InventParameters::numRefInventTransId());
        }

        super();
    }

]]></Source>
			</Method>
			<Method>
				<Name>defaultCTQuery</Name>
				<Source><![CDATA[
    /// <summary>
    /// Returns the default change tracking query.
    /// </summary>
    /// <returns>The default change tracking query.</returns>
    public static Query defaultCTQuery()
    {
        Query salesQuotationLineQuery = new Query();

        var salesQuotationLineDS = salesQuotationLineQuery.addDataSource(tableNum(SalesQuotationLine));
        salesQuotationLineDS.addRange(fieldNum(SalesQuotationLine, QuotationType)).value(queryValue(QuotationType::Sales));

        SalesQuotationLineV2Entity::addChangeTrackingDataSourcesForSalesQuotationLineChildren(salesQuotationLineDS);
        
        return salesQuotationLineQuery;
    }

]]></Source>
			</Method>
			<Method>
				<Name>addChangeTrackingDataSourcesForSalesQuotationLineChildren</Name>
				<Source><![CDATA[
    /// <summary>
    /// Adds change tracking tables to the children of the <c>SalesQuotationLine</c> data sources.
    /// </summary>
    /// <param name = "_salesQuotationLineInstance">The <c>QueryBuildDataSource</c> instance to append it's child data sources to.</param>
    /// <returns>An instance of the <c>SalesQuotationLine</c> data source being joined to.</returns>
    [Hookable(false)]
    internal static QueryBuildDataSource addChangeTrackingDataSourcesForSalesQuotationLineChildren(QueryBuildDataSource _salesQuotationLineInstance)
    {
        boolean useReferencedData = !SalesParameters::skipSalesQuotationReferencedDataDuringChangeTracking();

        LogisticsPostalAddressBaseEntityChangeTrackingHelper::addPostalAddressBasedOnAddressRecIdLink(_salesQuotationLineInstance, fieldNum(SalesQuotationLine, DeliveryPostalAddress));

        // InventDim should not change.

        if (useReferencedData)
        {
            var ecoResCategory_IntrastatCommodityDS = _salesQuotationLineInstance.addDataSource(tableNum(EcoResCategory));
            ecoResCategory_IntrastatCommodityDS.addLink(fieldNum(SalesQuotationLine, IntrastatCommodity), fieldNum(EcoResCategory, RecId));
            ecoResCategory_IntrastatCommodityDS.joinMode(JoinMode::OuterJoin);
            ecoResCategory_IntrastatCommodityDS.fetchMode(QueryFetchMode::One2One);
        }

        var salesQuotationLineLineForeignTradeCategoryDS = _salesQuotationLineInstance.addDataSource(tableNum(SalesQuotationLineForeignTradeCategory));
        salesQuotationLineLineForeignTradeCategoryDS.addLink(fieldNum(SalesQuotationLine, DataAreaId), fieldNum(SalesQuotationLineForeignTradeCategory, SalesQuotationLineDataAreaId));
        salesQuotationLineLineForeignTradeCategoryDS.addLink(fieldNum(SalesQuotationLine, InventTransId), fieldNum(SalesQuotationLineForeignTradeCategory, SalesQuotationLineInventTransId));
        salesQuotationLineLineForeignTradeCategoryDS.joinMode(JoinMode::OuterJoin);
        salesQuotationLineLineForeignTradeCategoryDS.fetchMode(QueryFetchMode::One2One);

        var ecoResCategoryDS = _salesQuotationLineInstance.addDataSource(tableNum(EcoResCategory));
        ecoResCategoryDS.addLink(fieldNum(SalesQuotationLine, SalesCategory), fieldNum(EcoResCategory, RecId));
        ecoResCategoryDS.relations(true);
        ecoResCategoryDS.joinMode(JoinMode::OuterJoin);
        ecoResCategoryDS.fetchMode(QueryFetchMode::One2One);

        if (useReferencedData && BrazilParameters::isEnabled())
        {
            var cfopTable_BRDS = _salesQuotationLineInstance.addDataSource(tableNum(CFOPTable_BR));
            cfopTable_BRDS.addLink(fieldNum(SalesQuotationLine, CFOPTable_BR), fieldNum(CFOPTable_BR, RecId));
            cfopTable_BRDS.joinMode(JoinMode::OuterJoin);
            cfopTable_BRDS.fetchMode(QueryFetchMode::One2One);
        }

        return _salesQuotationLineInstance;
    }

]]></Source>
			</Method>
			<Method>
				<Name>isCalculateLineAmountForced</Name>
				<Source><![CDATA[
    private static str isCalculateLineAmountForced()
    {
        // The <c>CalculateLineAmount</c> field is designed to be enabled
        // so we will always return 'Yes' for user to change otherwise
        return SysComputedColumn::returnLiteral(NoYes::Yes);
    }

]]></Source>
			</Method>
			<Method>
				<Name>resetLineAmountDependentFieldStages</Name>
				<Source><![CDATA[
    private void resetLineAmountDependentFieldStages()
    {
        this.fieldState(fieldNum(SalesQuotationLineV2Entity, SalesPrice), FieldState::NotSet);
        this.fieldState(fieldNum(SalesQuotationLineV2Entity, LineDiscountAmount), FieldState::NotSet);
        this.fieldState(fieldNum(SalesQuotationLineV2Entity, LineDiscountPercentage), FieldState::NotSet);
        this.fieldState(fieldNum(SalesQuotationLineV2Entity, MultiLineDiscountAmount), FieldState::NotSet);
        this.fieldState(fieldNum(SalesQuotationLineV2Entity, MultiLineDiscountPercentage), FieldState::NotSet);
        this.fieldState(fieldNum(SalesQuotationLineV2Entity, FixedPriceCharges), FieldState::NotSet);
    }

]]></Source>
			</Method>
			<Method>
				<Name>insert</Name>
				<Source><![CDATA[
    public void insert()
    {
        using (var context = SalesInstrumentationLogger::createLogger(tableStr(SalesQuotationLineV2Entity)).salesQuotationActivities().insert(this))
        {
            super();
        }
    }

]]></Source>
			</Method>
			<Method>
				<Name>postTargetProcess</Name>
				<Source><![CDATA[
    /// <summary>
    /// Executes the logic once after processing the target data.
    /// </summary>
    /// <param name="_dmfDefinitionGroupExecution">
    /// A table buffer.
    /// </param>
    public static void postTargetProcess(DMFDefinitionGroupExecution _dmfDefinitionGroupExecution)
    {
        RetailParameters retailParameters = RetailParameters::find();
        // When full pricing calculation is delayed during line by line import, recalculate all related sales quotations at the end of import job.
        if (retailParameters.EnableDelayedPriceAndDiscountCalculation)
        {
            DMFDefinitionGroupName definitionGroup =  _dmfDefinitionGroupExecution.DefinitionGroup;
            DMFExecutionId executionId = _dmfDefinitionGroupExecution.ExecutionId;
            DMFEntityName entityName = _dmfDefinitionGroupExecution.Entity;
            DMFDefinitionGroupExecution currentExecution;

            ttsbegin;

            // Add a lock here so the multiple threads will run in sequence.
            select pessimisticlock currentExecution
                where currentExecution.DefinitionGroup == definitionGroup
                    && currentExecution.ExecutionId == executionId
                    && currentExecution.Entity == entityName;

            // Check if import job is finished.
            if (currentExecution.StagingStatus == DMFBatchJobStatus::Finished)
            {
                SalesQuotationLineV2Staging salesQuotationLineV2Staging;
                while select SalesQuotationNumber from salesQuotationLineV2Staging
                group by SalesQuotationNumber
                where salesQuotationLineV2Staging.DefinitionGroup == definitionGroup
                    && salesQuotationLineV2Staging.ExecutionId == executionId
                {
                    SalesQuotationTable salesQuotationTable = SalesQuotationTable::find(salesQuotationLineV2Staging.SalesQuotationNumber);
                    RetailSalesQuotationTable retailSalesQuotation = salesQuotationTable.retailSalesQuotationTable();

                    boolean isRetailOrder = RetailPricingEngine::useRetailPricingEngineForSalesQuatation(salesQuotationTable.QuotationId);
                    if (isRetailOrder)
                    {
                        RetailSalesQuotationCalculator::setPricesDiscountsOnOrderOnServer(salesQuotationTable.QuotationId, retailSalesQuotation.TotalManualDiscountPercentage);
                    }
                }
            }

            ttscommit;
        }
    }

]]></Source>
			</Method>
			<Method>
				<Name>updateEntityDataSource</Name>
				<Source><![CDATA[
    public boolean updateEntityDataSource(DataEntityRuntimeContext _entityCtx, DataEntityDataSourceRuntimeContext _dataSourceCtx)
    {
        using (var context = SalesInstrumentationLogger::createLogger(tableStr(SalesQuotationLineV2Entity)).salesQuotationActivities().updateEntityDataSource(_dataSourceCtx))
        {
            boolean ret;

            ret = super(_entityCtx, _dataSourceCtx);

            switch (_dataSourceCtx.name())
            {
                case dataEntityDataSourceStr(SalesQuotationLineV2Entity, SalesQuotationLine):
                    SalesQuotationLine salesQuotationLine = _dataSourceCtx.getBuffer();
                    this.updateAppliedDiscountDetails(salesQuotationLine);
                    break;
            }

            return ret;
        }
    }

]]></Source>
			</Method>
			<Method>
				<Name>update</Name>
				<Source><![CDATA[
    public void update()
    {
        using (var context = SalesInstrumentationLogger::createLogger(tableStr(SalesQuotationLineV2Entity)).salesQuotationActivities().update(this))
        {
            super();
        }
    }

]]></Source>
			</Method>
		</Methods>
	</SourceCode>
	<DeveloperDocumentation>@SCM:SalesQuotationLineV2EntityDevDoc</DeveloperDocumentation>
	<FormRef>SalesQuotationJumpRef</FormRef>
	<Label>@SCM:SalesQuotationLinesV2</Label>
	<Tags>Sales quote</Tags>
	<DataManagementEnabled>Yes</DataManagementEnabled>
	<DataManagementStagingTable>SalesQuotationLineV2Staging</DataManagementStagingTable>
	<EntityCategory>Document</EntityCategory>
	<IsPublic>Yes</IsPublic>
	<Modules>SalesAndMarketing</Modules>
	<PrimaryCompanyContext>DataAreaId</PrimaryCompanyContext>
	<PrimaryKey>EntityKey</PrimaryKey>
	<PublicCollectionName>SalesQuotationLines</PublicCollectionName>
	<PublicEntityName>SalesQuotationLine</PublicEntityName>
	<DeleteActions />
	<FieldGroups>
		<AxTableFieldGroup>
			<Name>AutoReport</Name>
			<Fields />
		</AxTableFieldGroup>
		<AxTableFieldGroup>
			<Name>AutoLookup</Name>
			<Fields />
		</AxTableFieldGroup>
		<AxTableFieldGroup>
			<Name>AutoIdentification</Name>
			<AutoPopulate>Yes</AutoPopulate>
			<Fields />
		</AxTableFieldGroup>
		<AxTableFieldGroup>
			<Name>AutoSummary</Name>
			<Fields />
		</AxTableFieldGroup>
		<AxTableFieldGroup>
			<Name>AutoBrowse</Name>
			<Fields />
		</AxTableFieldGroup>
	</FieldGroups>
	<Fields>
		<AxDataEntityViewField xmlns=""
			i:type="AxDataEntityViewMappedField">
			<Name>SalesQuotationNumber</Name>
			<Mandatory>No</Mandatory>
			<DataField>QuotationId</DataField>
			<DataSource>SalesQuotationTable</DataSource>
		</AxDataEntityViewField>
		<AxDataEntityViewField xmlns=""
			i:type="AxDataEntityViewMappedField">
			<Name>InventoryLotId</Name>
			<AllowEdit>No</AllowEdit>
			<AllowEditOnCreate>Yes</AllowEditOnCreate>
			<DataField>InventTransId</DataField>
			<DataSource>SalesQuotationLine</DataSource>
		</AxDataEntityViewField>
		<AxDataEntityViewField xmlns=""
			i:type="AxDataEntityViewMappedField">
			<Name>SalesQuotationStatus</Name>
			<DataField>QuotationStatus</DataField>
			<DataSource>SalesQuotationLine</DataSource>
		</AxDataEntityViewField>
		<AxDataEntityViewField xmlns=""
			i:type="AxDataEntityViewMappedField">
			<Name>AddressRefRecId</Name>
			<AccessModifier>Private</AccessModifier>
			<DataField>AddressRefRecId</DataField>
			<DataSource>SalesQuotationLine</DataSource>
		</AxDataEntityViewField>
		<AxDataEntityViewField xmlns=""
			i:type="AxDataEntityViewMappedField">
			<Name>AddressRefTableId</Name>
			<AccessModifier>Private</AccessModifier>
			<DataField>AddressRefTableId</DataField>
			<DataSource>SalesQuotationLine</DataSource>
		</AxDataEntityViewField>
		<AxDataEntityViewField xmlns=""
			i:type="AxDataEntityViewMappedField">
			<Name>SalesQuotationPromisingMethod</Name>
			<DataField>DeliveryDateControlType</DataField>
			<DataSource>SalesQuotationLine</DataSource>
		</AxDataEntityViewField>
		<AxDataEntityViewField xmlns=""
			i:type="AxDataEntityViewMappedField">
			<Name>DeliveryAddressName</Name>
			<Label>@SCM:DeliveryAddressName</Label>
			<DataField>DeliveryName</DataField>
			<DataSource>SalesQuotationLine</DataSource>
		</AxDataEntityViewField>
		<AxDataEntityViewField xmlns=""
			i:type="AxDataEntityViewMappedField">
			<Name>DeliveryModeCode</Name>
			<DataField>DlvMode</DataField>
			<DataSource>SalesQuotationLine</DataSource>
		</AxDataEntityViewField>
		<AxDataEntityViewField xmlns=""
			i:type="AxDataEntityViewMappedField">
			<Name>DeliveryTermsId</Name>
			<DataField>DlvTerm</DataField>
			<DataSource>SalesQuotationLine</DataSource>
		</AxDataEntityViewField>
		<AxDataEntityViewField xmlns=""
			i:type="AxDataEntityViewMappedField">
			<Name>ExternalItemNumber</Name>
			<Label>@SYS14552</Label>
			<DataField>ExternalItemId</DataField>
			<DataSource>SalesQuotationLine</DataSource>
		</AxDataEntityViewField>
		<AxDataEntityViewField xmlns=""
			i:type="AxDataEntityViewMappedField">
			<Name>BOMId</Name>
			<DataField>ItemBOMId</DataField>
			<DataSource>SalesQuotationLine</DataSource>
		</AxDataEntityViewField>
		<AxDataEntityViewField xmlns=""
			i:type="AxDataEntityViewMappedField">
			<Name>ItemNumber</Name>
			<DataField>ItemId</DataField>
			<DataSource>SalesQuotationLine</DataSource>
		</AxDataEntityViewField>
		<AxDataEntityViewField xmlns=""
			i:type="AxDataEntityViewMappedField">
			<Name>RouteId</Name>
			<DataField>ItemRouteId</DataField>
			<DataSource>SalesQuotationLine</DataSource>
		</AxDataEntityViewField>
		<AxDataEntityViewField xmlns=""
			i:type="AxDataEntityViewMappedField">
			<Name>LineAmount</Name>
			<DataField>LineAmount</DataField>
			<DataSource>SalesQuotationLine</DataSource>
		</AxDataEntityViewField>
		<AxDataEntityViewField xmlns=""
			i:type="AxDataEntityViewMappedField">
			<Name>LineDiscountAmount</Name>
			<DataField>LineDisc</DataField>
			<DataSource>SalesQuotationLine</DataSource>
		</AxDataEntityViewField>
		<AxDataEntityViewField xmlns=""
			i:type="AxDataEntityViewMappedField">
			<Name>LineDiscountPercentage</Name>
			<DataField>LinePercent</DataField>
			<DataSource>SalesQuotationLine</DataSource>
		</AxDataEntityViewField>
		<AxDataEntityViewField xmlns=""
			i:type="AxDataEntityViewMappedField">
			<Name>MultilineDiscountAmount</Name>
			<DataField>MultiLnDisc</DataField>
			<DataSource>SalesQuotationLine</DataSource>
		</AxDataEntityViewField>
		<AxDataEntityViewField xmlns=""
			i:type="AxDataEntityViewMappedField">
			<Name>MultilineDiscountPercentage</Name>
			<DataField>MultiLnPercent</DataField>
			<DataSource>SalesQuotationLine</DataSource>
		</AxDataEntityViewField>
		<AxDataEntityViewField xmlns=""
			i:type="AxDataEntityViewMappedField">
			<Name>LineDescription</Name>
			<DataField>Name</DataField>
			<DataSource>SalesQuotationLine</DataSource>
		</AxDataEntityViewField>
		<AxDataEntityViewField xmlns=""
			i:type="AxDataEntityViewMappedField">
			<Name>AllowedOverdeliveryPercentage</Name>
			<DataField>OverDeliveryPct</DataField>
			<DataSource>SalesQuotationLine</DataSource>
		</AxDataEntityViewField>
		<AxDataEntityViewField xmlns=""
			i:type="AxDataEntityViewMappedField">
			<Name>PackingUnitSymbol</Name>
			<DataField>PackingUnit</DataField>
			<DataSource>SalesQuotationLine</DataSource>
		</AxDataEntityViewField>
		<AxDataEntityViewField xmlns=""
			i:type="AxDataEntityViewMappedField">
			<Name>IntrastatPortId</Name>
			<DataField>Port</DataField>
			<DataSource>SalesQuotationLine</DataSource>
		</AxDataEntityViewField>
		<AxDataEntityViewField xmlns=""
			i:type="AxDataEntityViewMappedField">
			<Name>SalesPriceQuantity</Name>
			<DataField>PriceUnit</DataField>
			<DataSource>SalesQuotationLine</DataSource>
		</AxDataEntityViewField>
		<AxDataEntityViewField xmlns=""
			i:type="AxDataEntityViewMappedField">
			<Name>RequestedReceiptDate</Name>
			<DataField>ReceiptDateRequested</DataField>
			<DataSource>SalesQuotationLine</DataSource>
		</AxDataEntityViewField>
		<AxDataEntityViewField xmlns=""
			i:type="AxDataEntityViewMappedField">
			<Name>CommissionSalesRepresentativeGroupId</Name>
			<DataField>SalesGroup</DataField>
			<DataSource>SalesQuotationLine</DataSource>
		</AxDataEntityViewField>
		<AxDataEntityViewField xmlns=""
			i:type="AxDataEntityViewMappedField">
			<Name>FixedPriceCharges</Name>
			<DataField>SalesMarkup</DataField>
			<DataSource>SalesQuotationLine</DataSource>
		</AxDataEntityViewField>
		<AxDataEntityViewField xmlns=""
			i:type="AxDataEntityViewMappedField">
			<Name>SalesPrice</Name>
			<DataField>SalesPrice</DataField>
			<DataSource>SalesQuotationLine</DataSource>
		</AxDataEntityViewField>
		<AxDataEntityViewField xmlns=""
			i:type="AxDataEntityViewMappedField">
			<Name>RequestedSalesQuantity</Name>
			<DataField>SalesQty</DataField>
			<DataSource>SalesQuotationLine</DataSource>
		</AxDataEntityViewField>
		<AxDataEntityViewField xmlns=""
			i:type="AxDataEntityViewMappedField">
			<Name>SalesUnitSymbol</Name>
			<DataField>SalesUnit</DataField>
			<DataSource>SalesQuotationLine</DataSource>
		</AxDataEntityViewField>
		<AxDataEntityViewField xmlns=""
			i:type="AxDataEntityViewMappedField">
			<Name>RequestedShippingDate</Name>
			<Mandatory>No</Mandatory>
			<DataField>ShippingDateRequested</DataField>
			<DataSource>SalesQuotationLine</DataSource>
		</AxDataEntityViewField>
		<AxDataEntityViewField xmlns=""
			i:type="AxDataEntityViewMappedField">
			<Name>IntrastatStatisticsProcedureCode</Name>
			<DataField>StatProcId</DataField>
			<DataSource>SalesQuotationLine</DataSource>
		</AxDataEntityViewField>
		<AxDataEntityViewField xmlns=""
			i:type="AxDataEntityViewMappedField">
			<Name>IsIntrastatTriangularDeal</Name>
			<DataField>StatTriangularDeal</DataField>
			<DataSource>SalesQuotationLine</DataSource>
		</AxDataEntityViewField>
		<AxDataEntityViewField xmlns=""
			i:type="AxDataEntityViewMappedField">
			<Name>SalesTaxGroupCode</Name>
			<DataField>TaxGroup</DataField>
			<DataSource>SalesQuotationLine</DataSource>
		</AxDataEntityViewField>
		<AxDataEntityViewField xmlns=""
			i:type="AxDataEntityViewMappedField">
			<Name>SalesTaxItemGroupCode</Name>
			<DataField>TaxItemGroup</DataField>
			<DataSource>SalesQuotationLine</DataSource>
		</AxDataEntityViewField>
		<AxDataEntityViewField xmlns=""
			i:type="AxDataEntityViewMappedField">
			<Name>IntrastatTransactionCode</Name>
			<DataField>TransactionCode</DataField>
			<DataSource>SalesQuotationLine</DataSource>
		</AxDataEntityViewField>
		<AxDataEntityViewField xmlns=""
			i:type="AxDataEntityViewMappedField">
			<Name>IntrastatTransportModeCode</Name>
			<DataField>Transport</DataField>
			<DataSource>SalesQuotationLine</DataSource>
		</AxDataEntityViewField>
		<AxDataEntityViewField xmlns=""
			i:type="AxDataEntityViewMappedField">
			<Name>AllowedUnderdeliveryPercentage</Name>
			<DataField>UnderDeliveryPct</DataField>
			<DataSource>SalesQuotationLine</DataSource>
		</AxDataEntityViewField>
		<AxDataEntityViewField xmlns=""
			i:type="AxDataEntityViewMappedField">
			<Name>SalesProductCategoryName</Name>
			<Mandatory>No</Mandatory>
			<DataField>Name</DataField>
			<DataSource>EcoResCategory</DataSource>
		</AxDataEntityViewField>
		<AxDataEntityViewField xmlns=""
			i:type="AxDataEntityViewMappedField">
			<Name>SuframaDiscountPercentage</Name>
			<DataField>SuframaDiscount_BR</DataField>
			<DataSource>SalesQuotationLine</DataSource>
		</AxDataEntityViewField>
		<AxDataEntityViewField xmlns=""
			i:type="AxDataEntityViewMappedField">
			<Name>DeliveryValidTo</Name>
			<AccessModifier>Private</AccessModifier>
			<DataField>ValidTo</DataField>
			<DataSource>DeliveryLogisticsPostalAddressBaseEntity</DataSource>
		</AxDataEntityViewField>
		<AxDataEntityViewField xmlns=""
			i:type="AxDataEntityViewMappedField">
			<Name>DeliveryValidFrom</Name>
			<AccessModifier>Private</AccessModifier>
			<DataField>ValidFrom</DataField>
			<DataSource>DeliveryLogisticsPostalAddressBaseEntity</DataSource>
		</AxDataEntityViewField>
		<AxDataEntityViewField xmlns=""
			i:type="AxDataEntityViewMappedField">
			<Name>DeliveryAddressTimeZone</Name>
			<DataField>TimeZone</DataField>
			<DataSource>DeliveryLogisticsPostalAddressBaseEntity</DataSource>
		</AxDataEntityViewField>
		<AxDataEntityViewField xmlns=""
			i:type="AxDataEntityViewMappedField">
			<Name>DeliveryAddressZipCode</Name>
			<DataField>ZipCode</DataField>
			<DataSource>DeliveryLogisticsPostalAddressBaseEntity</DataSource>
		</AxDataEntityViewField>
		<AxDataEntityViewField xmlns=""
			i:type="AxDataEntityViewMappedField">
			<Name>DeliveryAddressStreetNumber</Name>
			<DataField>StreetNumber</DataField>
			<DataSource>DeliveryLogisticsPostalAddressBaseEntity</DataSource>
		</AxDataEntityViewField>
		<AxDataEntityViewField xmlns=""
			i:type="AxDataEntityViewMappedField">
			<Name>DeliveryAddressStreet</Name>
			<DataField>Street</DataField>
			<DataSource>DeliveryLogisticsPostalAddressBaseEntity</DataSource>
		</AxDataEntityViewField>
		<AxDataEntityViewField xmlns=""
			i:type="AxDataEntityViewMappedField">
			<Name>DeliveryAddressStateId</Name>
			<DataField>State</DataField>
			<DataSource>DeliveryLogisticsPostalAddressBaseEntity</DataSource>
		</AxDataEntityViewField>
		<AxDataEntityViewField xmlns=""
			i:type="AxDataEntityViewMappedField">
			<Name>DeliveryAddressPostBox</Name>
			<DataField>PostBox</DataField>
			<DataSource>DeliveryLogisticsPostalAddressBaseEntity</DataSource>
		</AxDataEntityViewField>
		<AxDataEntityViewField xmlns=""
			i:type="AxDataEntityViewMappedField">
			<Name>DeliveryAddressLongitude</Name>
			<DataField>Longitude</DataField>
			<DataSource>DeliveryLogisticsPostalAddressBaseEntity</DataSource>
		</AxDataEntityViewField>
		<AxDataEntityViewField xmlns=""
			i:type="AxDataEntityViewMappedField">
			<Name>DeliveryAddressLocationId</Name>
			<AllowEdit>Yes</AllowEdit>
			<AllowEditOnCreate>Yes</AllowEditOnCreate>
			<DataField>LocationId</DataField>
			<DataSource>DeliveryLogisticsPostalAddressBaseEntity</DataSource>
		</AxDataEntityViewField>
		<AxDataEntityViewField xmlns=""
			i:type="AxDataEntityViewMappedField">
			<Name>DeliveryAddressLatitude</Name>
			<DataField>Latitude</DataField>
			<DataSource>DeliveryLogisticsPostalAddressBaseEntity</DataSource>
		</AxDataEntityViewField>
		<AxDataEntityViewField xmlns=""
			i:type="AxDataEntityViewMappedField">
			<Name>IsDeliveryAddressPrivate</Name>
			<Label>@SCM:IsDeliveryAddressPrivate</Label>
			<DataField>IsPrivate</DataField>
			<DataSource>DeliveryLogisticsPostalAddressBaseEntity</DataSource>
		</AxDataEntityViewField>
		<AxDataEntityViewField xmlns=""
			i:type="AxDataEntityViewMappedField">
			<Name>DeliveryAddressDunsNumber</Name>
			<DataField>DunsNumber</DataField>
			<DataSource>DeliveryLogisticsPostalAddressBaseEntity</DataSource>
		</AxDataEntityViewField>
		<AxDataEntityViewField xmlns=""
			i:type="AxDataEntityViewMappedField">
			<Name>DeliveryAddressDistrictName</Name>
			<DataField>DistrictName</DataField>
			<DataSource>DeliveryLogisticsPostalAddressBaseEntity</DataSource>
		</AxDataEntityViewField>
		<AxDataEntityViewField xmlns=""
			i:type="AxDataEntityViewMappedField">
			<Name>DeliveryAddressDescription</Name>
			<DataField>Description</DataField>
			<DataSource>DeliveryLogisticsPostalAddressBaseEntity</DataSource>
		</AxDataEntityViewField>
		<AxDataEntityViewField xmlns=""
			i:type="AxDataEntityViewMappedField">
			<Name>DeliveryAddressCountyId</Name>
			<DataField>County</DataField>
			<DataSource>DeliveryLogisticsPostalAddressBaseEntity</DataSource>
		</AxDataEntityViewField>
		<AxDataEntityViewField xmlns=""
			i:type="AxDataEntityViewMappedField">
			<Name>DeliveryAddressCountryRegionId</Name>
			<Mandatory>No</Mandatory>
			<DataField>CountryRegionId</DataField>
			<DataSource>DeliveryLogisticsPostalAddressBaseEntity</DataSource>
		</AxDataEntityViewField>
		<AxDataEntityViewField xmlns=""
			i:type="AxDataEntityViewMappedField">
			<Name>DeliveryAddressCountryRegionISOCode</Name>
			<DataField>CountryRegionISOCode</DataField>
			<DataSource>DeliveryLogisticsPostalAddressBaseEntity</DataSource>
		</AxDataEntityViewField>
		<AxDataEntityViewField xmlns=""
			i:type="AxDataEntityViewMappedField">
			<Name>DeliveryAddressCity</Name>
			<DataField>City</DataField>
			<DataSource>DeliveryLogisticsPostalAddressBaseEntity</DataSource>
		</AxDataEntityViewField>
		<AxDataEntityViewField xmlns=""
			i:type="AxDataEntityViewMappedField">
			<Name>DeliveryAddressCityInKana</Name>
			<DataField>CityInKana</DataField>
			<DataSource>DeliveryLogisticsPostalAddressBaseEntity</DataSource>
		</AxDataEntityViewField>
		<AxDataEntityViewField xmlns=""
			i:type="AxDataEntityViewMappedField">
			<Name>DeliveryAddressStreetInKana</Name>
			<DataField>StreetInKana</DataField>
			<DataSource>DeliveryLogisticsPostalAddressBaseEntity</DataSource>
		</AxDataEntityViewField>
		<AxDataEntityViewField xmlns=""
			i:type="AxDataEntityViewMappedField">
			<Name>DeliveryBuildingCompliment</Name>
			<DataField>BuildingCompliment</DataField>
			<DataSource>DeliveryLogisticsPostalAddressBaseEntity</DataSource>
		</AxDataEntityViewField>
		<AxDataEntityViewField xmlns=""
			i:type="AxDataEntityViewMappedField">
			<Name>FormattedDeliveryAddress</Name>
			<DataField>Address</DataField>
			<DataSource>DeliveryLogisticsPostalAddressBaseEntity</DataSource>
		</AxDataEntityViewField>
		<AxDataEntityViewField xmlns=""
			i:type="AxDataEntityViewUnmappedFieldEnum">
			<Name>IsDeliveryAddressOrderSpecific</Name>
			<AllowEdit>Yes</AllowEdit>
			<AllowEditOnCreate>Yes</AllowEditOnCreate>
			<Label>@SCM:IsOneTimeDeliveryAddress</Label>
			<Mandatory>No</Mandatory>
			<ComputedFieldMethod>isDeliveryAddressOrderSpecificComputedColumnDefinition</ComputedFieldMethod>
			<ExtendedDataType>NoYesId</ExtendedDataType>
			<EnumType>NoYes</EnumType>
		</AxDataEntityViewField>
		<AxDataEntityViewField xmlns=""
			i:type="AxDataEntityViewMappedField">
			<Name>DeliveryPostalAddressRecId</Name>
			<AccessModifier>Private</AccessModifier>
			<DataField>AddressRecId</DataField>
			<DataSource>DeliveryLogisticsPostalAddressBaseEntity</DataSource>
		</AxDataEntityViewField>
		<AxDataEntityViewField xmlns=""
			i:type="AxDataEntityViewMappedField">
			<Name>MainAccountId</Name>
			<AccessModifier>Private</AccessModifier>
			<DataField>LedgerDimension</DataField>
			<DataSource>SalesQuotationLine</DataSource>
		</AxDataEntityViewField>
		<AxDataEntityViewField xmlns=""
			i:type="AxDataEntityViewMappedField">
			<Name>MainAccountIdDisplayValue</Name>
			<AllowEdit>Yes</AllowEdit>
			<AllowEditOnCreate>Yes</AllowEditOnCreate>
			<DataField>DisplayValue</DataField>
			<DataSource>LedgerDimensionDAVC</DataSource>
		</AxDataEntityViewField>
		<AxDataEntityViewField xmlns=""
			i:type="AxDataEntityViewMappedField">
			<Name>DefaultLedgerDimension</Name>
			<AccessModifier>Private</AccessModifier>
			<DataField>DefaultDimension</DataField>
			<DataSource>SalesQuotationLine</DataSource>
		</AxDataEntityViewField>
		<AxDataEntityViewField xmlns=""
			i:type="AxDataEntityViewMappedField">
			<Name>DefaultLedgerDimensionDisplayValue</Name>
			<AllowEdit>Yes</AllowEdit>
			<AllowEditOnCreate>Yes</AllowEditOnCreate>
			<DataField>DisplayValue</DataField>
			<DataSource>DefaultDimensionDAVS</DataSource>
		</AxDataEntityViewField>
		<AxDataEntityViewField xmlns=""
			i:type="AxDataEntityViewMappedField">
			<Name>ProductStyleId</Name>
			<DataField>InventStyleId</DataField>
			<DataSource>InventDim</DataSource>
		</AxDataEntityViewField>
		<AxDataEntityViewField xmlns=""
			i:type="AxDataEntityViewMappedField">
			<Name>ProductVersionId</Name>
			<DataField>InventVersionId</DataField>
			<DataSource>InventDim</DataSource>
		</AxDataEntityViewField>
		<AxDataEntityViewField xmlns=""
			i:type="AxDataEntityViewMappedField">
			<Name>SalesProductCategoryHierarchyRecId</Name>
			<AccessModifier>Internal</AccessModifier>
			<DataField>CategoryHierarchy</DataField>
			<DataSource>EcoResCategory</DataSource>
		</AxDataEntityViewField>
		<AxDataEntityViewField xmlns=""
			i:type="AxDataEntityViewMappedField">
			<Name>RequestedInventoryStatusId</Name>
			<DataField>InventStatusId</DataField>
			<DataSource>InventDim</DataSource>
		</AxDataEntityViewField>
		<AxDataEntityViewField xmlns=""
			i:type="AxDataEntityViewMappedField">
			<Name>ProductSizeId</Name>
			<DataField>InventSizeId</DataField>
			<DataSource>InventDim</DataSource>
		</AxDataEntityViewField>
		<AxDataEntityViewField xmlns=""
			i:type="AxDataEntityViewMappedField">
			<Name>ShippingSiteId</Name>
			<DataField>InventSiteId</DataField>
			<DataSource>InventDim</DataSource>
		</AxDataEntityViewField>
		<AxDataEntityViewField xmlns=""
			i:type="AxDataEntityViewMappedField">
			<Name>ShippingWarehouseId</Name>
			<DataField>InventLocationId</DataField>
			<DataSource>InventDim</DataSource>
		</AxDataEntityViewField>
		<AxDataEntityViewField xmlns=""
			i:type="AxDataEntityViewMappedField">
			<Name>ProductColorId</Name>
			<DataField>InventColorId</DataField>
			<DataSource>InventDim</DataSource>
		</AxDataEntityViewField>
		<AxDataEntityViewField xmlns=""
			i:type="AxDataEntityViewMappedField">
			<Name>ItemBatchNumber</Name>
			<DataField>inventBatchId</DataField>
			<DataSource>InventDim</DataSource>
		</AxDataEntityViewField>
		<AxDataEntityViewField xmlns=""
			i:type="AxDataEntityViewMappedField">
			<Name>ProductConfigurationId</Name>
			<DataField>configId</DataField>
			<DataSource>InventDim</DataSource>
		</AxDataEntityViewField>
		<AxDataEntityViewField xmlns=""
			i:type="AxDataEntityViewMappedField">
			<Name>IntrastatCommodityCode</Name>
			<Label>@SYS28731</Label>
			<DataField>Code</DataField>
			<DataSource>EcoResCategory_IntrastatCommodity</DataSource>
		</AxDataEntityViewField>
		<AxDataEntityViewField xmlns=""
			i:type="AxDataEntityViewMappedField">
			<Name>CFOPTableRecId</Name>
			<AccessModifier>Private</AccessModifier>
			<DataField>CFOPTable_BR</DataField>
			<DataSource>SalesQuotationLine</DataSource>
		</AxDataEntityViewField>
		<AxDataEntityViewField xmlns=""
			i:type="AxDataEntityViewMappedField">
			<Name>CFOPCode</Name>
			<DataField>CFOPId</DataField>
			<DataSource>CFOPTable_BR</DataSource>
		</AxDataEntityViewField>
		<AxDataEntityViewField xmlns=""
			i:type="AxDataEntityViewMappedField">
			<Name>LineCreationSequenceNumber</Name>
			<DataField>LineCreationSequenceNumber</DataField>
			<DataSource>SalesQuotationLine</DataSource>
		</AxDataEntityViewField>
		<AxDataEntityViewField xmlns=""
			i:type="AxDataEntityViewMappedField">
			<Name>RequestingCustomerAccountNumber</Name>
			<AllowEdit>No</AllowEdit>
			<AllowEditOnCreate>No</AllowEditOnCreate>
			<Mandatory>No</Mandatory>
			<DataField>CustAccount</DataField>
			<DataSource>SalesQuotationTable</DataSource>
		</AxDataEntityViewField>
		<AxDataEntityViewField xmlns=""
			i:type="AxDataEntityViewMappedField">
			<Name>InvoiceCustomerAccountNumber</Name>
			<AllowEdit>No</AllowEdit>
			<AllowEditOnCreate>No</AllowEditOnCreate>
			<Mandatory>No</Mandatory>
			<DataField>InvoiceAccount</DataField>
			<DataSource>SalesQuotationTable</DataSource>
		</AxDataEntityViewField>
		<AxDataEntityViewField xmlns=""
			i:type="AxDataEntityViewMappedField">
			<Name>ProspectId</Name>
			<AllowEdit>No</AllowEdit>
			<AllowEditOnCreate>No</AllowEditOnCreate>
			<Mandatory>No</Mandatory>
			<DataField>BusRelAccount</DataField>
			<DataSource>SalesQuotationTable</DataSource>
		</AxDataEntityViewField>
		<AxDataEntityViewField xmlns=""
			i:type="AxDataEntityViewMappedField">
			<Name>ShippingWarehouseLocationId</Name>
			<DataField>wMSLocationId</DataField>
			<DataSource>InventDim</DataSource>
		</AxDataEntityViewField>
		<AxDataEntityViewField xmlns=""
			i:type="AxDataEntityViewMappedField">
			<Name>OverrideSalesTax</Name>
			<DataField>OverrideSalesTax</DataField>
			<DataSource>SalesQuotationLine</DataSource>
		</AxDataEntityViewField>
		<AxDataEntityViewField xmlns=""
			i:type="AxDataEntityViewUnmappedFieldEnum">
			<Name>CalculateLineAmount</Name>
			<AllowEdit>Yes</AllowEdit>
			<AllowEditOnCreate>Yes</AllowEditOnCreate>
			<HelpText>@SCM:CalculateLineAmountHelpText</HelpText>
			<IsObsolete>Yes</IsObsolete>
			<Label>@SCM:CalculateLineAmountLabel</Label>
			<ComputedFieldMethod>isCalculateLineAmountForced</ComputedFieldMethod>
			<ExtendedDataType>NoYesId</ExtendedDataType>
			<EnumType>NoYes</EnumType>
		</AxDataEntityViewField>
		<AxDataEntityViewField xmlns=""
			i:type="AxDataEntityViewUnmappedFieldEnum">
			<Name>IsCDSIntegration</Name>
			<AccessModifier>Internal</AccessModifier>
			<ExtendedDataType>NoYesId</ExtendedDataType>
			<IsComputedField>No</IsComputedField>
			<EnumType>NoYes</EnumType>
		</AxDataEntityViewField>
		<AxDataEntityViewField xmlns=""
			i:type="AxDataEntityViewMappedField">
			<Name>SalesQuotationLineCreationMethod</Name>
			<DataField>QuotationLineCreationMethod</DataField>
			<DataSource>SalesQuotationLine</DataSource>
		</AxDataEntityViewField>
	</Fields>
	<Keys>
		<AxDataEntityViewKey>
			<Name>EntityKey</Name>
			<Fields>
				<AxDataEntityViewKeyField>
					<DataField>InventoryLotId</DataField>
				</AxDataEntityViewKeyField>
			</Fields>
		</AxDataEntityViewKey>
	</Keys>
	<Mappings>
		<AxTableMapping>
			<MappingTable>InventInventoryDimensionEntityFieldsMapping</MappingTable>
			<Connections>
				<AxTableMappingConnection>
					<MapField>configId</MapField>
					<MapFieldTo>ProductConfigurationId</MapFieldTo>
				</AxTableMappingConnection>
				<AxTableMappingConnection>
					<MapField>inventBatchId</MapField>
					<MapFieldTo>ItemBatchNumber</MapFieldTo>
				</AxTableMappingConnection>
				<AxTableMappingConnection>
					<MapField>InventColorId</MapField>
					<MapFieldTo>ProductColorId</MapFieldTo>
				</AxTableMappingConnection>
				<AxTableMappingConnection>
					<MapField>InventGTDId_RU</MapField>
				</AxTableMappingConnection>
				<AxTableMappingConnection>
					<MapField>InventLocationId</MapField>
					<MapFieldTo>ShippingWarehouseId</MapFieldTo>
				</AxTableMappingConnection>
				<AxTableMappingConnection>
					<MapField>InventOwnerId_RU</MapField>
				</AxTableMappingConnection>
				<AxTableMappingConnection>
					<MapField>InventProfileId_RU</MapField>
				</AxTableMappingConnection>
				<AxTableMappingConnection>
					<MapField>inventSerialId</MapField>
				</AxTableMappingConnection>
				<AxTableMappingConnection>
					<MapField>InventSiteId</MapField>
					<MapFieldTo>ShippingSiteId</MapFieldTo>
				</AxTableMappingConnection>
				<AxTableMappingConnection>
					<MapField>InventSizeId</MapField>
					<MapFieldTo>ProductSizeId</MapFieldTo>
				</AxTableMappingConnection>
				<AxTableMappingConnection>
					<MapField>InventStatusId</MapField>
					<MapFieldTo>RequestedInventoryStatusId</MapFieldTo>
				</AxTableMappingConnection>
				<AxTableMappingConnection>
					<MapField>InventStyleId</MapField>
					<MapFieldTo>ProductStyleId</MapFieldTo>
				</AxTableMappingConnection>
				<AxTableMappingConnection>
					<MapField>InventVersionId</MapField>
					<MapFieldTo>ProductVersionId</MapFieldTo>
				</AxTableMappingConnection>
				<AxTableMappingConnection>
					<MapField>LicensePlateId</MapField>
				</AxTableMappingConnection>
				<AxTableMappingConnection>
					<MapField>wMSLocationId</MapField>
					<MapFieldTo>ShippingWarehouseLocationId</MapFieldTo>
				</AxTableMappingConnection>
				<AxTableMappingConnection>
					<MapField>wMSPalletId</MapField>
				</AxTableMappingConnection>
			</Connections>
		</AxTableMapping>
		<AxTableMapping>
			<MappingTable>TradeEntitySpecificDeliveryAddress</MappingTable>
			<Connections>
				<AxTableMappingConnection>
					<MapField>DeliveryLocationId</MapField>
					<MapFieldTo>DeliveryAddressLocationId</MapFieldTo>
				</AxTableMappingConnection>
				<AxTableMappingConnection>
					<MapField>IsDeliveryAddressOrderSpecific</MapField>
					<MapFieldTo>IsDeliveryAddressOrderSpecific</MapFieldTo>
				</AxTableMappingConnection>
			</Connections>
		</AxTableMapping>
	</Mappings>
	<Ranges />
	<Relations>
		<AxDataEntityViewRelation xmlns=""
			i:type="AxDataEntityViewRelationForeignKey">
			<Name>DefaultDimensionDimensionSet</Name>
			<Cardinality>ZeroMore</Cardinality>
			<RelatedDataEntity>DimensionSetEntity</RelatedDataEntity>
			<RelatedDataEntityCardinality>ZeroOne</RelatedDataEntityCardinality>
			<RelationshipType>Association</RelationshipType>
			<Constraints>
				<AxDataEntityViewRelationConstraint xmlns=""
					i:type="AxDataEntityViewRelationConstraintField">
					<Name>DefaultDimension</Name>
					<Field>DefaultLedgerDimension</Field>
					<RelatedField>RecId</RelatedField>
				</AxDataEntityViewRelationConstraint>
			</Constraints>
		</AxDataEntityViewRelation>
		<AxDataEntityViewRelation xmlns=""
			i:type="AxDataEntityViewRelationForeignKey">
			<Name>LedgerDimensionCombination</Name>
			<Cardinality>ZeroMore</Cardinality>
			<RelatedDataEntity>DimensionCombinationEntity</RelatedDataEntity>
			<RelatedDataEntityCardinality>ZeroOne</RelatedDataEntityCardinality>
			<RelationshipType>Association</RelationshipType>
			<Validate>No</Validate>
			<Constraints>
				<AxDataEntityViewRelationConstraint xmlns=""
					i:type="AxDataEntityViewRelationConstraintField">
					<Name>LedgerDimension</Name>
					<Field>MainAccountId</Field>
					<RelatedField>RecId</RelatedField>
				</AxDataEntityViewRelationConstraint>
			</Constraints>
		</AxDataEntityViewRelation>
		<AxDataEntityViewRelation>
			<Name>SalesQuotationHeader</Name>
			<Cardinality>ZeroMore</Cardinality>
			<RelatedDataEntity>SalesQuotationHeaderEntity</RelatedDataEntity>
			<RelatedDataEntityCardinality>ExactlyOne</RelatedDataEntityCardinality>
			<RelationshipType>Composition</RelationshipType>
			<Validate>No</Validate>
			<Constraints>
				<AxDataEntityViewRelationConstraint xmlns=""
					i:type="AxDataEntityViewRelationConstraintField">
					<Name>RelationConstraintField1</Name>
					<Field>SalesQuotationNumber</Field>
					<RelatedField>SalesQuotationNumber</RelatedField>
				</AxDataEntityViewRelationConstraint>
			</Constraints>
		</AxDataEntityViewRelation>
		<AxDataEntityViewRelation>
			<Name>SalesQuotationHeaderV2</Name>
			<Cardinality>ZeroMore</Cardinality>
			<RelatedDataEntity>SalesQuotationHeaderV2Entity</RelatedDataEntity>
			<RelatedDataEntityCardinality>ExactlyOne</RelatedDataEntityCardinality>
			<RelatedDataEntityRole>SalesQuotationHeaderV2</RelatedDataEntityRole>
			<RelationshipType>Composition</RelationshipType>
			<Role>SalesQuotationLines</Role>
			<UseDefaultRoleNames>No</UseDefaultRoleNames>
			<Validate>No</Validate>
			<Constraints>
				<AxDataEntityViewRelationConstraint xmlns=""
					i:type="AxDataEntityViewRelationConstraintField">
					<Name>RelationConstraintField1</Name>
					<Field>SalesQuotationNumber</Field>
					<RelatedField>SalesQuotationNumber</RelatedField>
				</AxDataEntityViewRelationConstraint>
			</Constraints>
		</AxDataEntityViewRelation>
	</Relations>
	<StateMachines />
	<ViewMetadata>
		<Name>Metadata</Name>
		<SourceCode>
			<Methods>
				<Method>
					<Name>classDeclaration</Name>
					<Source><![CDATA[
[Query]
public class Metadata extends QueryRun
{
}
]]></Source>
				</Method>
			</Methods>
		</SourceCode>
		<DataSources>
			<AxQuerySimpleRootDataSource>
				<Name>SalesQuotationLine</Name>
				<DynamicFields>Yes</DynamicFields>
				<Table>SalesQuotationLine</Table>
				<DataSources>
					<AxQuerySimpleEmbeddedDataSource>
						<Name>DeliveryLogisticsPostalAddressBaseEntity</Name>
						<ApplyDateFilter>Yes</ApplyDateFilter>
						<DynamicFields>Yes</DynamicFields>
						<Table>LogisticsPostalAddressBaseEntity</Table>
						<DataSources />
						<DerivedDataSources />
						<Fields />
						<Ranges />
						<JoinMode>OuterJoin</JoinMode>
						<Relations>
							<AxQuerySimpleDataSourceRelation>
								<Name>QueryDataSourceRelation1</Name>
								<Field>DeliveryPostalAddress</Field>
								<JoinDataSource>SalesQuotationLine</JoinDataSource>
								<RelatedField>AddressRecId</RelatedField>
							</AxQuerySimpleDataSourceRelation>
						</Relations>
					</AxQuerySimpleEmbeddedDataSource>
					<AxQuerySimpleEmbeddedDataSource>
						<Name>InventDim</Name>
						<DynamicFields>Yes</DynamicFields>
						<IsReadOnly>Yes</IsReadOnly>
						<Table>InventDim</Table>
						<DataSources />
						<DerivedDataSources />
						<Fields />
						<Ranges />
						<JoinMode>OuterJoin</JoinMode>
						<Relations>
							<AxQuerySimpleDataSourceRelation>
								<Name>QueryDataSourceRelation1</Name>
								<JoinDataSource>SalesQuotationLine</JoinDataSource>
								<JoinRelationName>InventDim</JoinRelationName>
							</AxQuerySimpleDataSourceRelation>
						</Relations>
					</AxQuerySimpleEmbeddedDataSource>
					<AxQuerySimpleEmbeddedDataSource>
						<Name>LedgerDimensionDAVC</Name>
						<AllowAdd>No</AllowAdd>
						<DynamicFields>Yes</DynamicFields>
						<IsReadOnly>Yes</IsReadOnly>
						<Table>DimensionCombinationEntity</Table>
						<DataSources />
						<DerivedDataSources />
						<Fields />
						<Ranges />
						<JoinMode>OuterJoin</JoinMode>
						<Relations>
							<AxQuerySimpleDataSourceRelation>
								<Name>LedgerDimensionDAVC</Name>
								<Field>LedgerDimension</Field>
								<JoinDataSource>SalesQuotationLine</JoinDataSource>
								<RelatedField>RecId</RelatedField>
							</AxQuerySimpleDataSourceRelation>
						</Relations>
					</AxQuerySimpleEmbeddedDataSource>
					<AxQuerySimpleEmbeddedDataSource>
						<Name>DefaultDimensionDAVS</Name>
						<AllowAdd>No</AllowAdd>
						<DynamicFields>Yes</DynamicFields>
						<IsReadOnly>Yes</IsReadOnly>
						<Table>DimensionSetEntity</Table>
						<DataSources />
						<DerivedDataSources />
						<Fields />
						<Ranges />
						<JoinMode>OuterJoin</JoinMode>
						<Relations>
							<AxQuerySimpleDataSourceRelation>
								<Name>DefaultDimensionDAVS</Name>
								<Field>DefaultDimension</Field>
								<JoinDataSource>SalesQuotationLine</JoinDataSource>
								<RelatedField>RecId</RelatedField>
							</AxQuerySimpleDataSourceRelation>
						</Relations>
					</AxQuerySimpleEmbeddedDataSource>
					<AxQuerySimpleEmbeddedDataSource>
						<Name>EcoResCategory_IntrastatCommodity</Name>
						<DynamicFields>Yes</DynamicFields>
						<IsReadOnly>Yes</IsReadOnly>
						<Table>EcoResCategory</Table>
						<DataSources />
						<DerivedDataSources>
							<AxQuerySimpleDerivedDataSource>
								<Name>EcoResCategory_IntrastatCommodity_PCClass</Name>
								<DynamicFields>Yes</DynamicFields>
								<Table>PCClass</Table>
								<DataSources />
								<DerivedDataSources />
								<Fields />
								<Ranges />
							</AxQuerySimpleDerivedDataSource>
						</DerivedDataSources>
						<Fields />
						<Ranges />
						<JoinMode>OuterJoin</JoinMode>
						<Relations>
							<AxQuerySimpleDataSourceRelation>
								<Name>QueryDataSourceRelation1</Name>
								<Field>IntrastatCommodity</Field>
								<JoinDataSource>SalesQuotationLine</JoinDataSource>
								<RelatedField>RecId</RelatedField>
							</AxQuerySimpleDataSourceRelation>
						</Relations>
					</AxQuerySimpleEmbeddedDataSource>
					<AxQuerySimpleEmbeddedDataSource>
						<Name>SalesQuotationLineForeignTradeCategory</Name>
						<DynamicFields>Yes</DynamicFields>
						<Table>SalesQuotationLineForeignTradeCategory</Table>
						<DataSources />
						<DerivedDataSources />
						<Fields />
						<Ranges />
						<JoinMode>OuterJoin</JoinMode>
						<Relations>
							<AxQuerySimpleDataSourceRelation>
								<Name>QueryDataSourceRelation1</Name>
								<JoinDataSource>SalesQuotationLine</JoinDataSource>
								<JoinRelationName>SalesQuotationLine</JoinRelationName>
							</AxQuerySimpleDataSourceRelation>
						</Relations>
					</AxQuerySimpleEmbeddedDataSource>
					<AxQuerySimpleEmbeddedDataSource>
						<Name>EcoResCategory</Name>
						<DynamicFields>Yes</DynamicFields>
						<IsReadOnly>Yes</IsReadOnly>
						<Table>EcoResCategory</Table>
						<DataSources />
						<DerivedDataSources>
							<AxQuerySimpleDerivedDataSource>
								<Name>PCClass</Name>
								<DynamicFields>Yes</DynamicFields>
								<Table>PCClass</Table>
								<DataSources />
								<DerivedDataSources />
								<Fields />
								<Ranges />
							</AxQuerySimpleDerivedDataSource>
						</DerivedDataSources>
						<Fields />
						<Ranges />
						<JoinMode>OuterJoin</JoinMode>
						<UseRelations>Yes</UseRelations>
						<Relations>
							<AxQuerySimpleDataSourceRelation>
								<Name>EcoResCategory</Name>
								<Field>SalesCategory</Field>
								<JoinDataSource>SalesQuotationLine</JoinDataSource>
								<JoinRelationName>EcoResCategory</JoinRelationName>
								<RelatedField>RecId</RelatedField>
							</AxQuerySimpleDataSourceRelation>
						</Relations>
					</AxQuerySimpleEmbeddedDataSource>
					<AxQuerySimpleEmbeddedDataSource>
						<Name>CFOPTable_BR</Name>
						<DynamicFields>Yes</DynamicFields>
						<IsReadOnly>Yes</IsReadOnly>
						<Table>CFOPTable_BR</Table>
						<DataSources />
						<DerivedDataSources />
						<Fields />
						<Ranges />
						<JoinMode>OuterJoin</JoinMode>
						<Relations>
							<AxQuerySimpleDataSourceRelation>
								<Name>QueryDataSourceRelation1</Name>
								<JoinRelationName>CFOPTable_BR</JoinRelationName>
							</AxQuerySimpleDataSourceRelation>
						</Relations>
					</AxQuerySimpleEmbeddedDataSource>
					<AxQuerySimpleEmbeddedDataSource>
						<Name>SalesQuotationTable</Name>
						<DynamicFields>Yes</DynamicFields>
						<IsReadOnly>Yes</IsReadOnly>
						<Table>SalesQuotationTable</Table>
						<DataSources />
						<DerivedDataSources />
						<Fields />
						<Ranges />
						<Relations>
							<AxQuerySimpleDataSourceRelation>
								<Name>QueryDataSourceRelation1</Name>
								<JoinDataSource>SalesQuotationLine</JoinDataSource>
								<JoinRelationName>SalesQuotationTable</JoinRelationName>
							</AxQuerySimpleDataSourceRelation>
						</Relations>
					</AxQuerySimpleEmbeddedDataSource>
				</DataSources>
				<DerivedDataSources />
				<Fields />
				<Ranges>
					<AxQuerySimpleDataSourceRange>
						<Name>QuotationType</Name>
						<Field>QuotationType</Field>
						<Status>Hidden</Status>
						<Value>Sales</Value>
					</AxQuerySimpleDataSourceRange>
				</Ranges>
				<GroupBy />
				<Having />
				<OrderBy />
			</AxQuerySimpleRootDataSource>
		</DataSources>
	</ViewMetadata>
</AxDataEntityView>